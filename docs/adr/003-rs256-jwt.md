# ADR-003: RS256 for JWT Signing

## Status

Accepted

## Context

JWT tokens need a signing algorithm. Options:
- **HS256** (symmetric): Single shared secret. Any service that verifies can also forge tokens.
- **RS256** (asymmetric): Private key signs, public key verifies. Services can verify without forging.

## Decision

Use **RS256** (RSA with SHA-256) for all JWT operations.

- Access tokens: 15-minute expiry, carry identity and role claims
- Refresh tokens: 7-day expiry, opaque server-side tokens (not JWT)

## Consequences

### Positive
- Microservices can verify tokens without access to the signing key
- Key rotation is simpler (distribute new public key)
- Standard practice for multi-service architectures

### Negative
- RSA key pair management required
- Slightly larger tokens than HS256
- Key generation and distribution at deployment time

## Implementation
- Private key: `APP_JWT_PRIVATE_KEY` environment variable (PEM)
- Public key: `APP_JWT_PUBLIC_KEY` environment variable (PEM)
- Library: `python-jose[cryptography]`
